(this["webpackJsonpchess-frontend"]=this["webpackJsonpchess-frontend"]||[]).push([[0],[,,function(e,t,a){e.exports=a.p+"static/media/capture.16a09c1c.mp3"},,,,,,function(e,t,a){e.exports=a.p+"static/media/move.86644655.mp3"},function(e,t,a){e.exports=a.p+"static/media/wrong.9ee53a8d.mp3"},function(e,t,a){e.exports=a(23)},,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),o=a(5),r=a.n(o),s=(a(19),a(6)),l=a(7),m=(a(21),a(22),a(8)),u=a.n(m),i=a(2),d=a.n(i),h=a(9),b=a.n(h);var v=()=>{const e=Object(c.useRef)(new s.Chess),[t,a]=Object(c.useState)(e.current.fen()),[o,r]=Object(c.useState)([]),[m,i]=Object(c.useState)(!1),[h,v]=Object(c.useState)(600),[p,g]=Object(c.useState)(600),[f,E]=Object(c.useState)(!0),[k,S]=Object(c.useState)(!1),[C,O]=Object(c.useState)(null),[j,w]=Object(c.useState)(localStorage.getItem("chessTheme")||"classic"),[y,N]=Object(c.useState)(!1),[x,I]=Object(c.useState)(!0);Object(c.useEffect)(()=>{localStorage.setItem("chessTheme",j)},[j]),Object(c.useEffect)(()=>{if(!k)return;const t=setInterval(()=>{"w"===e.current.turn()?(E(!0),v(e=>e>0?e-1:0)):(E(!1),g(e=>e>0?e-1:0))},1e3);return()=>clearInterval(t)},[k,t]);const q=e=>{if(!x)return;let t;switch(e){case"move":t=new Audio(u.a);break;case"capture":case"check":case"checkmate":t=new Audio(d.a);break;default:return}t.play()};return n.a.createElement("div",{className:`chess-container ${j}-theme`},n.a.createElement("div",{className:"settings"},n.a.createElement("button",{className:"settings-button",onClick:()=>N(!y)},"\u2699 Settings"),y&&n.a.createElement("div",{className:"settings-menu"},n.a.createElement("h4",null,"Select Theme:"),n.a.createElement("select",{onChange:e=>{w(e.target.value),N(!1)},value:j},n.a.createElement("option",{value:"classic"},"Classic"),n.a.createElement("option",{value:"wood"},"Wood"),n.a.createElement("option",{value:"marble"},"Marble"),n.a.createElement("option",{value:"dark"},"Dark Mode")),n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",checked:x,onChange:e=>I(e.target.checked)}),"Enable Move Sound"))),n.a.createElement("div",{className:"left-panel"},n.a.createElement("div",{className:"clock "+(f?"":"active-turn")},"\u265a ",p,"s"),n.a.createElement("div",{className:"clock "+(f?"active-turn":"")},"\u2654 ",h,"s")),n.a.createElement("div",{className:"chess-board"},n.a.createElement(l.a,{position:t,onPieceDrop:(t,c)=>(t=>{let{from:c,to:n}=t;const o=e.current;console.log(`Attempting move: ${c} to ${n}`);try{const e=o.move({from:c,to:n,promotion:"q"});console.log("Valid move:",e),i(!1),k||S(!0),o.isCheckmate()?console.log("Checkmate! Game Over."):o.isDraw()&&console.log("Draw! Game Over."),a(o.fen()),r(t=>[...t,e.san]),O({from:c,to:n}),e.flags.includes("c")?q("capture"):o.isCheckmate()?q("checkmate"):o.inCheck()?q("check"):q("move")}catch(s){new Audio(b.a).play(),console.warn("Invalid move detected:",{from:c,to:n}),console.error("Error making move:",s),i(!0),setTimeout(()=>i(!1),1e3)}})({from:t,to:c}),boardWidth:500,customSquareStyles:C?{[C.from]:{backgroundColor:"rgba(255, 255, 0, 0.5)"},[C.to]:{backgroundColor:"rgba(0, 255, 0, 0.5)"}}:{},boardStyle:{borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},customDarkSquareStyle:{backgroundColor:"var(--dark-square)"},customLightSquareStyle:{backgroundColor:"var(--light-square)"}})),n.a.createElement("div",{className:"right-panel"},n.a.createElement("div",{className:"move-history"},n.a.createElement("h3",null,"Move History"),n.a.createElement("ol",null,o.map((e,t)=>n.a.createElement("li",{key:t},e))))))};var p=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then(t=>{let{getCLS:a,getFID:c,getFCP:n,getLCP:o,getTTFB:r}=t;a(e),c(e),n(e),o(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v,null))),p()}],[[10,1,2]]]);
//# sourceMappingURL=main.64974f9f.chunk.js.map