(this["webpackJsonpchess-frontend"]=this["webpackJsonpchess-frontend"]||[]).push([[0],[,,function(e,t,a){e.exports=a.p+"static/media/capture.16a09c1c.mp3"},,,function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/move.86644655.mp3"},function(e,t,a){e.exports=a.p+"static/media/wrong.9ee53a8d.mp3"},,function(e,t,a){e.exports=a(28)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(6),l=a.n(r),o=(a(20),a(7));a(21);var s=e=>{let{whiteTime:t,blackTime:a,isWhiteTurn:n}=e;return c.a.createElement("div",{className:"left-panel"},c.a.createElement("div",{className:"clock "+(n?"":"active-turn")},"\u265a ",a,"s"),c.a.createElement("div",{className:"clock "+(n?"active-turn":"")},"\u2654 ",t,"s"))};a(22);var u=e=>{let{moveHistory:t}=e;const a=Object(n.useRef)(null);return Object(n.useEffect)(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[t]),c.a.createElement("div",{className:"right-panel"},c.a.createElement("div",{className:"move-history"},c.a.createElement("h3",null,"Move History"),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("th",null,"White"),c.a.createElement("th",null,"Black"))),c.a.createElement("tbody",{ref:a}," ",t.map((e,a)=>a%2===0?c.a.createElement("tr",{key:a/2},c.a.createElement("td",null,Math.floor(a/2)+1,"."),c.a.createElement("td",null,e),c.a.createElement("td",null,t[a+1]||"")," "):null)))))};a(23);var m=e=>{let{theme:t,setTheme:a,enableSound:r,setEnableSound:l}=e;const[o,s]=Object(n.useState)(!1),u=Object(n.useRef)(null);return Object(n.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),c.a.createElement("div",{className:"settings-container",ref:u},c.a.createElement("button",{className:"settings-button",onClick:()=>s(e=>!e)},"\u2699 Settings"),o&&c.a.createElement("div",{className:"settings-dropdown"},c.a.createElement("div",{className:"dropdown-item"},c.a.createElement("h4",null,"Theme:"),c.a.createElement("select",{onChange:e=>a(e.target.value),value:t},c.a.createElement("option",{value:"classic"},"Classic"),c.a.createElement("option",{value:"wood"},"Wood"),c.a.createElement("option",{value:"marble"},"Marble"),c.a.createElement("option",{value:"dark"},"Dark Mode"))),c.a.createElement("div",{className:"dropdown-item"},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",checked:r,onChange:e=>l(e.target.checked)}),"Enable Move Sound"))))};var i=a(8),d=a.n(i),h=a(2),v=a.n(h),E=a(9),f=a.n(E);var b=(e,t)=>{if(!t)return;let a;switch(e){case"move":a=new Audio(d.a);break;case"capture":case"check":case"checkmate":a=new Audio(v.a);break;case"wrong":a=new Audio(f.a);break;default:return}a.play()},p=(a(24),a(5),a(10));a(26),a(27);var g=e=>{let{position:t,handleMove:a,lastMove:n}=e;return c.a.createElement("div",{className:"chess-board"},c.a.createElement(p.a,{position:t,onPieceDrop:(e,t)=>a({from:e,to:t}),boardWidth:.8*window.innerHeight,customBoardStyle:{maxWidth:"80vw"},customSquareStyles:n?{[n.from]:{backgroundColor:"rgba(255, 255, 0, 0.5)"},[n.to]:{backgroundColor:"rgba(0, 255, 0, 0.5)"}}:{},customDarkSquareStyle:{backgroundColor:"var(--dark-square)"},customLightSquareStyle:{backgroundColor:"var(--light-square)"}}))};var S=()=>{const e=Object(n.useRef)(new o.Chess),[t,a]=Object(n.useState)(e.current.fen()),[r,l]=Object(n.useState)([]),[i,d]=Object(n.useState)(600),[h,v]=Object(n.useState)(600),[E,f]=Object(n.useState)(!0),[p,S]=Object(n.useState)(!1),[k,w]=Object(n.useState)(null),[O,j]=Object(n.useState)(localStorage.getItem("chessTheme")||"classic"),[y,N]=Object(n.useState)(!0),[T,C]=Object(n.useState)(!1);Object(n.useEffect)(()=>{!async function(){await((e,t,a,n,c,r)=>{const l=localStorage.getItem("chessGame");if(l)try{const o=JSON.parse(l);e.current.load(o.fen),t(o.fen),a(o.moveHistory||[]),n(o.whiteTime||600),c(o.blackTime||600),r(o.theme)}catch(o){console.error("Error parsing JSON from localStorage:",o),localStorage.removeItem("chessGame")}})(e,a,l,d,v,j),f("w"===e.current.turn()),C(!0)}()},[]),Object(n.useEffect)(()=>{T&&((e,t,a,n,c)=>{const r={fen:e,moveHistory:t,whiteTime:a,blackTime:n,theme:c};localStorage.setItem("chessGame",JSON.stringify(r))})(e.current.fen(),r,i,h,O)},[t,r,i,h,O,T]),Object(n.useEffect)(()=>{if(!p)return;const t=setInterval(()=>{f("w"===e.current.turn()),"w"===e.current.turn()?d(e=>Math.max(e-1,0)):v(e=>Math.max(e-1,0))},1e3);return()=>clearInterval(t)},[p,t]);return c.a.createElement("div",{className:`chess-container ${O}-theme`},c.a.createElement(m,{theme:O,setTheme:j,enableSound:y,setEnableSound:N}),c.a.createElement(s,{whiteTime:i,blackTime:h,isWhiteTurn:E}),c.a.createElement(g,{position:t,handleMove:t=>{let{from:n,to:c}=t;try{const t=e.current.move({from:n,to:c,promotion:"q"});if(!t)return;p||S(!0),a(e.current.fen()),l(e=>[...e,t.san]),w({from:n,to:c}),b(((e,t)=>e.flags.includes("c")?"capture":t.isCheckmate()?"checkmate":t.inCheck()?"check":"move")(t,e.current),y)}catch(r){console.warn("Invalid move:",r)}},lastMove:k}),c.a.createElement(u,{moveHistory:r}))};var k=()=>c.a.createElement("div",{className:"app-container"},c.a.createElement("h1",{className:"app-title"},"Chess Game"),c.a.createElement(S,null));var w=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,29)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:r,getTTFB:l}=t;a(e),n(e),c(e),r(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k,null))),w()}],[[11,1,2]]]);
//# sourceMappingURL=main.3c480267.chunk.js.map