(this["webpackJsonpchess-frontend"]=this["webpackJsonpchess-frontend"]||[]).push([[0],[,,function(e,t,a){e.exports=a.p+"static/media/capture.16a09c1c.mp3"},,,function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/move.86644655.mp3"},function(e,t,a){e.exports=a.p+"static/media/wrong.9ee53a8d.mp3"},,function(e,t,a){e.exports=a(28)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),o=(a(20),a(7));a(21);var s=e=>{let{whiteTime:t,blackTime:a,isWhiteTurn:n,isFlipped:c}=e;return r.a.createElement("div",{className:"left-panel"},r.a.createElement("div",{className:"clocks-container"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"clock "+(n?"active-turn":"")},"\u26aa ",t),r.a.createElement("div",{className:"clock "+(n?"":"active-turn")},"\u26ab ",a)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"clock "+(n?"":"active-turn")},"\u26ab ",a),r.a.createElement("div",{className:"clock "+(n?"active-turn":"")},"\u26aa ",t))))};a(22);var m=e=>{let{moveHistory:t}=e;const a=Object(n.useRef)(null);return Object(n.useEffect)(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[t]),r.a.createElement("div",{className:"move-history"},r.a.createElement("h3",null,"Move History"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"White"),r.a.createElement("th",null,"Black"))),r.a.createElement("tbody",{ref:a}," ",t.map((e,a)=>a%2===0?r.a.createElement("tr",{key:a/2},r.a.createElement("td",null,Math.floor(a/2)+1,"."),r.a.createElement("td",null,e),r.a.createElement("td",null,t[a+1]||"")," "):null))))};var i=a(8),u=a.n(i),d=a(2),v=a.n(d),E=a(9),h=a.n(E);var p=e=>{let t;switch(e){case"move":t=new Audio(u.a);break;case"capture":case"check":case"checkmate":t=new Audio(v.a);break;case"wrong":t=new Audio(h.a);break;default:return}t.play()},b=a(10);a(24);var f=e=>{let{position:t,handleMove:a,lastMove:n,isFlipped:c}=e;return r.a.createElement("div",{className:"chess-board"},r.a.createElement(b.a,{position:t,onPieceDrop:(e,t)=>a({from:e,to:t}),boardOrientation:c?"black":"white",customSquareStyles:n?{[n.from]:{backgroundColor:"var(--last-move-from)"},[n.to]:{backgroundColor:"var(--last-move-to)"}}:{},customDarkSquareStyle:{backgroundColor:"var(--dark-square)"},customLightSquareStyle:{backgroundColor:"var(--light-square)"}}))};a(5),a(25);var k=e=>{let{theme:t,setTheme:a,enableSound:c,setEnableSound:l}=e;const[o,s]=Object(n.useState)(!1),m=Object(n.useRef)(null);return Object(n.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),r.a.createElement("div",{className:"settings-container",ref:m},r.a.createElement("button",{className:"settings-button",onClick:()=>s(e=>!e)},"\u2699 Settings"),o&&r.a.createElement("div",{className:"settings-dropdown"},r.a.createElement("div",{className:"dropdown-item"},r.a.createElement("h4",null,"Theme:"),r.a.createElement("select",{onChange:e=>a(e.target.value),value:t},r.a.createElement("option",{value:"classic"},"Classic"),r.a.createElement("option",{value:"wood"},"Wood"),r.a.createElement("option",{value:"marble"},"Marble"),r.a.createElement("option",{value:"dark"},"Dark Mode"))),r.a.createElement("div",{className:"dropdown-item"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:c,onChange:e=>l(e.target.checked)}),"Enable Move Sound"))))};var g=e=>{let{resetGame:t,flipBoard:a,isFlipped:n}=e;return r.a.createElement("div",{className:"top-container"},r.a.createElement("div",{className:"top-bar"},r.a.createElement("button",{onClick:t},"\u267b\ufe0f Reset Board"),r.a.createElement("button",{onClick:a},n?"\ud83d\udd04 Unflip Board":"\ud83d\udd03 Flip Board")))};var S=e=>{let{resetGame:t,flipBoard:a,isFlipped:n,theme:c,setTheme:l,enableSound:o,setEnableSound:s}=e;return r.a.createElement("div",{className:"top-container"},r.a.createElement(g,{resetGame:t,flipBoard:a,isFlipped:n}),r.a.createElement(k,{theme:c,setTheme:l,enableSound:o,setEnableSound:s}))};a(26),a(27);var N=()=>{const e=Object(n.useRef)(new o.Chess),[t,a]=Object(n.useState)(e.current.fen()),[c,l]=Object(n.useState)([]),[i,u]=Object(n.useState)(600),[d,v]=Object(n.useState)(600),[E,h]=Object(n.useState)(!1),[b,k]=Object(n.useState)(null),[g,N]=Object(n.useState)(localStorage.getItem("chessTheme")||"classic"),[w,O]=Object(n.useState)(!0),[j,y]=Object(n.useState)(!1),[T,C]=Object(n.useState)(!1),[F,B]=Object(n.useState)(!1),[M,W]=Object(n.useState)("");Object(n.useEffect)(()=>{!async function(){await((e,t,a,n,r,c)=>{const l=localStorage.getItem("chessGame");if(l)try{const o=JSON.parse(l);e.current.load(o.fen),t(o.fen),a(o.moveHistory||[]),n(o.whiteTime||600),r(o.blackTime||600),c(o.theme)}catch(o){console.error("Error parsing JSON from localStorage:",o),localStorage.removeItem("chessGame")}})(e,a,l,u,v,N),y(!0)}()},[]),Object(n.useEffect)(()=>{j&&((e,t,a,n,r)=>{const c={fen:e,moveHistory:t,whiteTime:a,blackTime:n,theme:r};localStorage.setItem("chessGame",JSON.stringify(c))})(e.current.fen(),c,i,d,g)},[t,c,i,d,g,j]),Object(n.useEffect)(()=>{if(!E)return;const t=setInterval(()=>{"w"===e.current.turn()?u(e=>Math.max(e-1,0)):v(e=>Math.max(e-1,0))},1e3);return()=>clearInterval(t)},[E,t,F]);const G=()=>{e.current.reset(),a(e.current.fen()),l([]),u(100),v(100),h(!1),B(!1),W(""),k(null)};return r.a.createElement("div",{className:"main-container"},r.a.createElement(S,{resetGame:G,flipBoard:()=>C(e=>!e),isFlipped:T,theme:g,setTheme:N,enableSound:w,setEnableSound:O}),r.a.createElement("div",{className:"middle-container"},r.a.createElement("div",{className:"left-menu-bar"}),r.a.createElement("div",{className:`chess-container ${g}-theme`},r.a.createElement("div",{className:"left-panel"},r.a.createElement(s,{whiteTime:i,blackTime:d,isWhiteTurn:"w"===e.current.turn(),isFlipped:T})),r.a.createElement("div",{className:"centre-area"},r.a.createElement(f,{position:t,handleMove:t=>{let{from:n,to:r}=t;if(!F)try{const t=e.current.move({from:n,to:r,promotion:"q"});if(!t)return;E||h(!0),a(e.current.fen()),l(e=>[...e,t.san]),k({from:n,to:r}),w&&p(((e,t)=>e.flags.includes("c")?"capture":t.isCheckmate()?"checkmate":t.inCheck()?"check":"move")(t,e.current)),((e,t,a,n,r)=>{e.current.isCheckmate()?(n(!0),r("w"===e.current.turn()?"Black Wins by Checkmate!":"White Wins by Checkmate!")):e.current.isDraw()?(n(!0),r("Game Drawn!")):0===t?(n(!0),r("Black Wins on Time!")):0===a&&(n(!0),r("White Wins on Time!"))})(e,i,d,B,W)}catch(c){console.warn("Invalid move:",c)}},lastMove:b,isFlipped:T}),F&&r.a.createElement("div",{className:"game-over-overlay"},r.a.createElement("div",{className:"game-over-message"},r.a.createElement("p",null,M),r.a.createElement("button",{className:"restart-button",onClick:G},"Restart Game")))),r.a.createElement("div",{className:"right-panel"},r.a.createElement(m,{moveHistory:c}))),r.a.createElement("div",{className:"ad-banner"})),r.a.createElement("div",{className:"bottom-container"}))};var w=()=>r.a.createElement(N,null);var O=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,29)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:c,getTTFB:l}=t;a(e),n(e),r(e),c(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null))),O()}],[[11,1,2]]]);
//# sourceMappingURL=main.4feb6d10.chunk.js.map